import{bt as q,T as V,o as n,A as m,B as t,V as M,G as E,a8 as g,Z as T,c as x,J as e,ay as Q,r as w,a6 as F,a7 as O,y as W,aw as $,x as X,aq as Y,a0 as N,S as P,a9 as U,a as L,a4 as ee,a5 as te}from"./index-C-tyC_6H.js";import{B as R,E as G,a as J}from"./boxContainer-FUNT-b17.js";import{E as S,a as j}from"./form-item-2Qq2kISt.js";import{E as ae}from"./date-picker-bD5Obocr.js";import{_ as oe}from"./ProTable-g_K91LbJ.js";import{P as B}from"./ProDrawer-80_OB0OG.js";import{C as le}from"./formConfig-7IyXZZgD.js";import{P as K}from"./ProUpload-QCEMvKML.js";import"./MainContentContainer-utiYTNDP.js";import"./checkbox-t98SXIDk.js";import"./overlay-tk1qTxpW.js";/* empty css                                                                  *//* empty css                 */import"./index-EB5xhOSR.js";import"./index-a4YD-yx8.js";const se={__name:"detail",setup(i){q();const c=V({exclData:[{label:"设备名称",value:"某某设备"},{label:"型号",value:"AL264694"},{label:"设备数量",value:6},{label:"制冷量（kw）",value:12},{label:"制热量（kw）",value:10},{label:"电源",value:"这是电源"},{label:"压缩机形式",value:"某某形式"},{label:"额定功率（kw）",value:"100"},{label:"冷媒",value:"43235"},{label:"蒸发器水流量（L/s）",value:"54"},{label:"冷凝器水流量（L/s）",value:"1452"},{label:"外形尺寸（mm）",value:"60*60*60"}]});return(r,_)=>{const s=G,u=J;return n(),m(R,{title:"设备详情"},{default:t(()=>[e(u,{column:3,size:"default",border:""},{default:t(()=>[(n(!0),x(M,null,T(c.exclData,(o,p)=>(n(),m(s,{key:p,label:o.label,"label-align":"right","label-class-name":"detail-label"},{default:t(()=>[g(E(o.value),1)]),_:2},1032,["label"]))),128))]),_:1})]),_:1})}}},ne=["onClick"],re=["onClick"],ce={__name:"list",setup(i){const c=[{project:"冷水机组",no:"AL264694",position:"空调主机一一楼主机机房",status:1,time:"2023-02-15"},{project:"冷水机组",no:"AL264694",position:"空调主机一一楼主机机房",status:0,time:"2023-02-15"},{project:"冷水机组",no:"AL264694",position:"空调主机一一楼主机机房",status:1,time:"2023-02-15"},{project:"冷水机组",no:"AL264694",position:"空调主机一一楼主机机房",status:0,time:"2023-02-15"}],r=Q(),_={time:{required:!0,message:"请选择设备保养时间",trigger:"blur"},detailImgs:{required:!0,message:"请上传设备保养图",trigger:"blur"}},s=w(),u=w(),o=V({pageInfo:{total:30,currentPage:1,pageSize:5,pageSizes:[5,10,15,30,50]},dataSource:[],formData:{time:"",detailImgs:[],desc:""}}),p=[{prop:"project",label:"设备名称",render:a=>e("div",{className:"text-overflow",title:a.row.project},[e("b",null,[a.row.project])])},{prop:"no",label:"资产编号",width:140},{prop:"position",label:"设备位置",width:200},{prop:"status",label:"启用状态",width:100,render:a=>{const l=a.row.status===1;return e(M,null,[e("span",{style:{color:l?"#00B050":"#FA5555"}},[g("● ")]),l?"启用":"停用"])}},{prop:"time",label:"保养状态",render:a=>{const l=a.row.status===1;return e(M,null,[e(Y,{type:l?"success":"warning"},{default:()=>[l?"已保养":"未保养"]}),l?a.row.time:"--"])}}];(async()=>{const a=await new Promise(l=>{setTimeout(()=>{o.loading=!1;const f=new Array(5).fill("").map((v,d)=>{const A=d%4;return{...c[A],id:d,project:`${c[A].project}00${d}`}});l(f)},600)});o.dataSource=a})();const D=(a,l)=>{console.log(a,l)},y=a=>{o.formData.time=a.time,o.formData.detailImgs=[],o.formData.desc=a.desc,s.value.open()},C=a=>{const{id:l}=a,f=r.resolve({name:"equipmentDetail",params:{id:l}}).href;window.open(f,"_blank")},k=a=>{console.log(a),o.formData.detailImgs=a},I=()=>{u.value.validate().then(()=>{console.log("success"),s.value.close()}).catch(()=>{console.log("fail")})};return(a,l)=>{const f=oe,v=ae,d=S,A=N,Z=j,z=F("auth");return n(),m(R,{title:"该型号设备列表（15）"},{default:t(()=>[e(f,{column:p,pageInfo:o.pageInfo,datasource:o.dataSource,onPageChange:D},{operation:t(b=>[O((n(),x("a",{class:"table-operator-btn",onClick:H=>C(b.row)},[g("详情")],8,ne)),[[z,"maintain_device_detail"]]),O((n(),x("span",{class:W(["table-operator-btn",b.row.status===1?"":"disabled"]),onClick:H=>y(b.row)},[g("设备保养")],10,re)),[[z,"maintain_device_maintenance"]])]),_:1},8,["pageInfo","datasource"]),e(B,{class:"maintain-container",size:480,title:"设备保养",ref_key:"drawerRef",ref:s,onConfirm:I},{default:t(()=>[e(Z,$({ref_key:"formRef",ref:u},X(le),{model:o.formData,rules:_}),{default:t(()=>[e(d,{label:"保养时间",prop:"time"},{default:t(()=>[e(v,{modelValue:o.formData.time,"onUpdate:modelValue":l[0]||(l[0]=b=>o.formData.time=b),type:"date",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1}),e(d,{label:"设备保养（最多上传5张）",prop:"detailImgs"},{default:t(()=>[e(K,{"list-type":"picture-card",limit:5,"file-list":o.formData.detailImgs,onChange:k},null,8,["file-list"])]),_:1}),e(d,{label:"作业内容",prop:"desc"},{default:t(()=>[e(A,{modelValue:o.formData.desc,"onUpdate:modelValue":l[1]||(l[1]=b=>o.formData.desc=b),type:"textarea",placeholder:"请输入至少5个字符"},null,8,["modelValue"])]),_:1})]),_:1},16,["model"])]),_:1},512)]),_:1})}}},ie=P(ce,[["__scopeId","data-v-51e1cbe2"]]),_e={__name:"maintainPlan",setup(i){const c={desc:[{required:!0,message:"请输入至少5个字符",trigger:"blur"},{min:5,message:"请输入至少5个字符",trigger:"blur"}]},r=w(),_=w(),s=V({exclData:[{label:"2020年",value:"这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是"},{label:"2021年",value:"这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是"},{label:"2022年",value:"这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是"},{label:"2023年",value:"这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是"}],formData:{desc:""}}),u=()=>{r.value.open()},o=()=>{_.value.validate().then(()=>{console.log("success"),r.value.close()}).catch(()=>{console.log("fail")})};return(p,h)=>{const D=U,y=G,C=J,k=N,I=S,a=j,l=B,f=F("auth");return n(),m(R,{title:"保养计划"},{extra:t(()=>[O((n(),m(D,{type:"primary",onClick:u},{default:t(()=>[g("添加")]),_:1})),[[f,"maintain_device_add"]])]),default:t(()=>[e(C,{class:"maintain-plan-container",column:1,size:"default",border:""},{default:t(()=>[(n(!0),x(M,null,T(s.exclData,(v,d)=>(n(),m(y,{key:d,label:v.label},{default:t(()=>[g(E(v.value),1)]),_:2},1032,["label"]))),128))]),_:1}),e(l,{title:"添加保养计划",ref_key:"drawerRef",ref:r,onConfirm:o},{default:t(()=>[e(a,$({ref_key:"formRef",ref:_},p.COMMON_FORM_CONFIG,{model:s.formData,rules:c}),{default:t(()=>[e(I,{label:"计划内容",prop:"desc"},{default:t(()=>[e(k,{class:"desc-inner",modelValue:s.formData.desc,"onUpdate:modelValue":h[0]||(h[0]=v=>s.formData.desc=v),type:"textarea",placeholder:"请输入至少5个字符"},null,8,["modelValue"])]),_:1})]),_:1},16,["model"])]),_:1},512)]),_:1})}}},de=P(_e,[["__scopeId","data-v-8b8f022c"]]),me={class:"cs-text-wrap"},ue={__name:"maintainFuture",setup(i){const c={desc:[{required:!0,message:"请输入至少5个字符",trigger:"blur"},{min:5,message:"请输入至少5个字符",trigger:"blur"}]},r=w(),_=w(),s=V({desc:"这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容。这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容，这是保养计划内容这是保养计划内容这是保养计划内容这是保养计划内容。",formData:{desc:""}}),u=()=>{s.formData.desc=s.desc,r.value.open()},o=()=>{_.value.validate().then(()=>{console.log("success"),r.value.close()}).catch(()=>{console.log("fail")})};return(p,h)=>{const D=U,y=N,C=S,k=j,I=B,a=F("auth");return n(),m(R,{title:"五年保养计划"},{extra:t(()=>[O((n(),m(D,{type:"primary",onClick:u},{default:t(()=>[g("编辑")]),_:1})),[[a,"maintain_device_edit"]])]),default:t(()=>[L("div",me,E(s.desc),1),e(I,{title:"编辑保养计划",ref_key:"drawerRef",ref:r,onConfirm:o},{default:t(()=>[e(k,$({ref_key:"formRef",ref:_},p.COMMON_FORM_CONFIG,{model:s.formData,rules:c}),{default:t(()=>[e(C,{label:"计划内容",prop:"desc"},{default:t(()=>[e(y,{class:"desc-inner",modelValue:s.formData.desc,"onUpdate:modelValue":h[0]||(h[0]=l=>s.formData.desc=l),type:"textarea",placeholder:"请输入至少5个字符"},null,8,["modelValue"])]),_:1})]),_:1},16,["model"])]),_:1},512)]),_:1})}}},pe=P(ue,[["__scopeId","data-v-a343f757"]]),fe=i=>(ee("data-v-07e4e86c"),i=i(),te(),i),ve=fe(()=>L("div",{class:"el-upload__tip tip"},"支持文件类型：.rar .zip .doc .pdf",-1)),be={__name:"attach",setup(i){const c=V({fileList:[]});return(r,_)=>(n(),m(R,{class:"attach-container",title:"附件"},{default:t(()=>[e(K,{fileList:c.fileList,authKey:"maintain_device_upload"},{tip:t(()=>[ve]),_:1},8,["fileList"])]),_:1}))}},ge=P(be,[["__scopeId","data-v-07e4e86c"]]),he={class:"cs-detail-container"},we=L("div",{class:"cs-header"},"某型号设备保养详情",-1),De={class:"cs-main-wrap"},Ne={__name:"index",setup(i){return q(),(c,r)=>(n(),x("div",he,[we,L("div",De,[e(se),e(ie),e(de),e(pe),e(ge)])]))}};export{Ne as default};
