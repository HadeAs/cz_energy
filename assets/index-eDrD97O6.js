import{S as z,o as d,c as R,J as e,B as t,al as te,x as F,a as v,E as ce,a4 as le,a5 as oe,V as ne,G as de,a8 as V,Z as se,am as me,an as _e,ao as pe,r as n,T as M,v as O,A as w,a0 as S,a6 as W,a7 as C,ac as A,z as K,ad as L,a9 as G,aa as Y,ab as H,ap as re,X as fe,Y as ve,a1 as be,a2 as ge,aq as ye}from"./index-89-ZZWgd.js";import{M as U}from"./MainContentContainer-gIXuFCeI.js";import{v as J}from"./loading-_Is5SS2T.js";import{_ as X}from"./ProTable-8M-SwEf9.js";import{P as Z}from"./ProDrawer-jwpVeOxy.js";import{E as Q,a as ee}from"./form-item-IeCkVWQd.js";import{_ as ae}from"./ProPopConfirm-aEbkiT6S.js";import{M as Ne}from"./MainTabContainer-6kxFaEPl.js";import"./checkbox-k8rOyDDJ.js";import"./overlay-SGz1EDOd.js";import"./tab-pane-BwapCRZi.js";const B=b=>(le("data-v-6d6e1081"),b=b(),oe(),b),we={class:"global-cfg-container"},he={class:"title"},De=B(()=>v("span",null,"大屏A数据配置",-1)),ke=B(()=>v("div",{class:"config-item"},[v("div",{class:"config-item-title"},[v("span",null,"可再生能源利用量"),v("a",{class:"table-operator-btn"},"编辑")]),v("div",{class:"config-item-content"}," 可再生能源利用量=地源热泵机组累计制冷量+地源热泵机组累计制热量 ")],-1)),Ce=B(()=>v("div",{class:"config-item"},[v("div",{class:"config-item-title"},[v("span",null,"节约标煤量（kgce）"),v("a",{class:"table-operator-btn"},"编辑")]),v("div",{class:"config-item-content"}," 节约标煤量（kgce）=0.326(kgce/kWh)*可再生能源利用量（kWh） ")],-1)),xe=B(()=>v("div",{class:"config-item"},[v("div",{class:"config-item-title"},[v("span",null,"碳排放减量（kg）"),v("a",{class:"table-operator-btn"},"编辑")]),v("div",{class:"config-item-content"}," 碳排放减量（kg）=0.795(kg/kWh)*可再生能源利用量（kWh） ")],-1)),Te={class:"title"},Ve=B(()=>v("span",null,"大屏B数据配置",-1)),Fe={__name:"global",setup(b){return(c,i)=>{const a=ce;return d(),R("div",we,[e(U,{style:{"margin-bottom":"10px",overflow:"unset"}},{default:t(()=>[v("div",he,[e(a,{class:"pic-icon"},{default:t(()=>[e(F(te))]),_:1}),De]),ke,Ce,xe]),_:1}),e(U,{style:{overflow:"unset"}},{default:t(()=>[v("div",Te,[e(a,{class:"pic-icon"},{default:t(()=>[e(F(te))]),_:1}),Ve])]),_:1})])}}},Re=z(Fe,[["__scopeId","data-v-6d6e1081"]]),ie=b=>(le("data-v-a7d76c35"),b=b(),oe(),b),Ie={class:"project-cfg-container"},$e={class:"left"},Oe=ie(()=>v("div",{class:"title"},"项目目录",-1)),Se={class:"right"},Ee=ie(()=>v("div",null,null,-1)),Pe={__name:"project",setup(b){const c=[{label:"项目001",value:"项目001"},{label:"项目002",value:"项目002"},{label:"项目003",value:"项目003"},{label:"项目004",value:"项目004"},{label:"项目005",value:"项目005"},{label:"项目006",value:"项目006"},{label:"项目007",value:"项目007"},{label:"项目008",value:"项目008"}],i=a=>{console.log(a)};return(a,p)=>{const u=me,l=_e,_=pe;return d(),R("div",Ie,[v("div",$e,[e(_,null,{default:t(()=>[Oe,e(l,null,{default:t(()=>[(d(),R(ne,null,se(c,s=>e(u,{index:s.value,onClick:N=>i(s)},{default:t(()=>[V(de(s.label),1)]),_:2},1032,["index","onClick"])),64))]),_:1})]),_:1})]),v("div",Se,[e(_,null,{default:t(()=>[Ee]),_:1})])])}}},qe=z(Pe,[["__scopeId","data-v-a7d76c35"]]),Ue={__name:"unitDetail",props:{initData:{type:Object}},setup(b,{expose:c}){const i={symbol:"",unitName:"",remark:""},a=b,p={unitName:{required:!0,message:"请输入单位名称",trigger:"blur"},symbol:{required:!0,message:"请输入符号",trigger:"blur"},remark:[{required:!0,message:"请输入备注信息",trigger:"blur"},{min:5,message:"请输入至少5个字符",trigger:"blur"}]};c({validate:()=>u.value.validate().then(()=>l.detailForm).catch(()=>!1)});const u=n(),l=M({detailForm:i});return O(()=>{if(a.initData){const _={...i,...a.initData};l.detailForm=_}}),(_,s)=>{const N=S,h=Q,D=ee;return d(),w(D,{ref_key:"formRef",ref:u,rules:p,"label-position":"left",model:l.detailForm,"label-width":"180px",class:"custom-form"},{default:t(()=>[e(h,{label:"单位名称",required:"",prop:"unitName"},{default:t(()=>[e(N,{placeholder:"请输入",modelValue:l.detailForm.unitName,"onUpdate:modelValue":s[0]||(s[0]=y=>l.detailForm.unitName=y)},null,8,["modelValue"])]),_:1}),e(h,{label:"符号",required:"",prop:"symbol"},{default:t(()=>[e(N,{placeholder:"请输入",modelValue:l.detailForm.symbol,"onUpdate:modelValue":s[1]||(s[1]=y=>l.detailForm.symbol=y)},null,8,["modelValue"])]),_:1}),e(h,{label:"备注",required:"",prop:"remark"},{default:t(()=>[e(N,{modelValue:l.detailForm.remark,"onUpdate:modelValue":s[2]||(s[2]=y=>l.detailForm.remark=y),type:"textarea",placeholder:"请输入至少5个字符"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},ze=z(Ue,[["__scopeId","data-v-1eb1ee98"]]),je=["onClick"],Be={class:"table-operator-btn"},Me={__name:"unit",setup(b){const c=n(""),i=n(!1),a=n([]),p=n(""),u=n(),l=n(),_=n(""),s=n(null),N=n({total:12,currentPage:1,pageSize:15,pageSizes:[10,15,20,50]}),h=()=>{p.value="add",_.value="新增",s.value=null,u.value.open()},D=m=>{p.value="edit",_.value="编辑",s.value=m,u.value.open()},y=async()=>{const m=await l.value.validate();if(m){if(p.value==="add")a.value.push(m);else{const r=a.value.findIndex(f=>f.id===m.id);a.value.splice(r,1,m)}a.value=[...a.value],u.value.close()}},I=()=>{console.log(c.value)},o=m=>{const r=a.value.findIndex(f=>f.id===m.id);a.value.splice(r,1),a.value=[...a.value]},g=(m,r)=>{console.log(m,r)},x=[{prop:"unitName",label:"单位名称",render:m=>e("div",{className:"text-overflow",title:m.row.unitName},[e("b",null,[m.row.unitName])])},{prop:"symbol",label:"符号"},{prop:"remark",label:"备注",width:280,render:m=>e("div",{className:"text-overflow",title:m.row.remark},[e("span",null,[m.row.remark])])}];return O(async()=>{i.value=!0;const m=await new Promise(r=>{setTimeout(()=>{i.value=!1,r([{id:"1",unitName:"电量",remark:"--",symbol:"kWh"},{id:"2",unitName:"碳排放量",remark:"--",symbol:"tCO2 或kgCO2"},{id:"3",unitName:"碳排放强度",remark:"--",symbol:"kgCO2/（㎡·a）"},{id:"4",unitName:"燃气量",remark:"--",symbol:"m³"},{id:"5",unitName:"热量",remark:"--",symbol:"kWh"},{id:"6",unitName:"冷量",remark:"--",symbol:"kWh"},{id:"7",unitName:"频率",remark:"--",symbol:"Hz"},{id:"8",unitName:"温度",remark:"--",symbol:"℃"},{id:"9",unitName:"压力",remark:"--",symbol:"bar"},{id:"10",unitName:"液位",remark:"--",symbol:"m"},{id:"11",unitName:"水量",remark:"--",symbol:"m³"},{id:"12",unitName:"百分比",remark:"--",symbol:"%"}])},1e3)});a.value=m}),(m,r)=>{const f=G,k=Y,$=S,T=H,E=W("auth"),j=J;return d(),w(U,null,{default:t(()=>[C((d(),w(X,{column:x,pageInfo:N.value,datasource:a.value,onPageChange:g},{toolbar:t(()=>[e(T,{align:"middle",gutter:5},{default:t(()=>[e(k,{span:2},{default:t(()=>[C((d(),w(f,{type:"primary",onClick:h},{default:t(()=>[V("新增")]),_:1})),[[E,"platform_unit_add"]])]),_:1}),e(k,{offset:18,span:4},{default:t(()=>[e($,{clearable:"",modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=P=>c.value=P),placeholder:"单位名称","suffix-icon":F(A),onKeyup:K(I,["enter"])},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1})]),operation:t(P=>[C((d(),R("a",{class:"table-operator-btn",onClick:q=>D(P.row)},[V("编辑")],8,je)),[[E,"platform_unit_edit"]]),e(ae,{title:"你确定要删除该单位嘛?",icon:F(L),iconColor:"red",onConfirm:q=>o(P.row)},{default:t(()=>[C((d(),R("a",Be,[V("删除")])),[[E,"platform_unit_delete"]])]),_:2},1032,["icon","onConfirm"])]),_:1},8,["pageInfo","datasource"])),[[j,i.value]]),e(Z,{title:_.value,ref_key:"detailDrawerRef",ref:u,onConfirm:y},{default:t(()=>[e(ze,{ref_key:"unitDetailRef",ref:l,initData:s.value},null,8,["initData"])]),_:1},8,["title"])]),_:1})}}},We={__name:"variableDetail",props:{initData:{type:Object}},setup(b,{expose:c}){const i={classTwoName:"",varType:"",classOneName:""},a=b,p={varType:{required:!0,message:"请选择变量类型",trigger:"change"},classOneName:{required:!0,message:"请输入一级变量名称",trigger:"blur"},classTwoName:{required:!0,message:"请输入二级变量名称",trigger:"blur"}};c({validate:()=>u.value.validate().then(()=>l.detailForm).catch(()=>!1)});const u=n(),l=M({detailForm:i});return O(()=>{if(a.initData){const _={...i,...a.initData};l.detailForm=_}}),(_,s)=>{const N=be,h=ge,D=Q,y=S,I=ee;return d(),w(I,{ref_key:"formRef",ref:u,rules:p,"label-position":"left",model:l.detailForm,"label-width":"180px",class:"custom-form"},{default:t(()=>[e(D,{label:"变量类型",required:"",prop:"varType"},{default:t(()=>[e(h,{modelValue:l.detailForm.varType,"onUpdate:modelValue":s[0]||(s[0]=o=>l.detailForm.varType=o),placeholder:"请选择"},{default:t(()=>[(d(!0),R(ne,null,se(F(re),o=>(d(),w(N,ve(fe(o)),null,16))),256))]),_:1},8,["modelValue"])]),_:1}),e(D,{label:"一级变量名称",required:"",prop:"classOneName"},{default:t(()=>[e(y,{placeholder:"请输入",modelValue:l.detailForm.classOneName,"onUpdate:modelValue":s[1]||(s[1]=o=>l.detailForm.classOneName=o)},null,8,["modelValue"])]),_:1}),e(D,{label:"二级变量名称",prop:"classTwoName"},{default:t(()=>[e(y,{placeholder:"请输入",modelValue:l.detailForm.classTwoName,"onUpdate:modelValue":s[2]||(s[2]=o=>l.detailForm.classTwoName=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},Ae=z(We,[["__scopeId","data-v-4a2a4516"]]),Ke=["onClick"],Le={class:"table-operator-btn"},Ge={__name:"variable",setup(b){const c=n(""),i=n(!1),a=n([]),p=n(""),u=n(),l=n(),_=n(""),s=n(null),N=n({total:4,currentPage:1,pageSize:10,pageSizes:[10,15,20,50]}),h={1:"",2:"success",3:"warning"},D=()=>{p.value="add",_.value="新增",s.value=null,u.value.open()},y=r=>{p.value="edit",_.value="编辑",s.value=r,u.value.open()},I=async()=>{const r=await l.value.validate();if(r){if(p.value==="add")a.value.push(r);else{const f=a.value.findIndex(k=>k.id===r.id);a.value.splice(f,1,r)}a.value=[...a.value],u.value.close()}},o=()=>{console.log(c.value)},g=r=>{const f=a.value.findIndex(k=>k.id===r.id);a.value.splice(f,1),a.value=[...a.value]},x=(r,f)=>{console.log(r,f)},m=[{prop:"classOneName",label:"一级变量",render:r=>e("div",{className:"text-overflow",title:r.row.classOneName},[e("b",null,[r.row.classOneName])])},{prop:"varType",label:"变量类型",render:r=>{const f=re.find(k=>k.value===r.row.varType);return f?e(ye,{type:h[f.value]},{default:()=>[e("span",null,[f.label])]}):""}},{prop:"classTwoName",label:"二级变量"}];return O(async()=>{i.value=!0;const r=await new Promise(f=>{setTimeout(()=>{i.value=!1,f([{id:"1",classOneName:"空调系统设备",classTwoName:"主机用电量",varType:"2"},{id:"2",classOneName:"动力设备",classTwoName:"电梯用电量",varType:"2"},{id:"3",classOneName:"用水设备",classTwoName:"食堂用水量",varType:"1"},{id:"4",classOneName:"燃气",classTwoName:"厨具",varType:"3"}])},1e3)});a.value=r}),(r,f)=>{const k=G,$=Y,T=S,E=H,j=W("auth"),P=J;return d(),w(U,null,{default:t(()=>[C((d(),w(X,{column:m,pageInfo:N.value,datasource:a.value,onPageChange:x},{toolbar:t(()=>[e(E,{align:"middle",gutter:5},{default:t(()=>[e($,{span:2},{default:t(()=>[C((d(),w(k,{type:"primary",onClick:D},{default:t(()=>[V("新增")]),_:1})),[[j,"platform_variable_add"]])]),_:1}),e($,{offset:18,span:4},{default:t(()=>[e(T,{clearable:"",modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=q=>c.value=q),placeholder:"变量名称","suffix-icon":F(A),onKeyup:K(o,["enter"])},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1})]),operation:t(q=>[C((d(),R("a",{class:"table-operator-btn",onClick:ue=>y(q.row)},[V("编辑")],8,Ke)),[[j,"platform_variable_edit"]]),e(ae,{title:"你确定要删除该变量嘛?",icon:F(L),iconColor:"red",onConfirm:ue=>g(q.row)},{default:t(()=>[C((d(),R("a",Le,[V("删除")])),[[j,"platform_variable_delete"]])]),_:2},1032,["icon","onConfirm"])]),_:1},8,["pageInfo","datasource"])),[[P,i.value]]),e(Z,{title:_.value,ref_key:"detailDrawerRef",ref:u,onConfirm:I},{default:t(()=>[e(Ae,{ref_key:"variableDetailRef",ref:l,initData:s.value},null,8,["initData"])]),_:1},8,["title"])]),_:1})}}},Ye={__name:"buildDetail",props:{initData:{type:Object}},setup(b,{expose:c}){const i={buildTypeName:""},a=b,p={buildTypeName:{required:!0,message:"请输入建筑类型名称",trigger:"blur"}};c({validate:()=>u.value.validate().then(()=>l.detailForm).catch(()=>!1)});const u=n(),l=M({detailForm:i});return O(()=>{if(a.initData){const _={...i,...a.initData};l.detailForm=_}}),(_,s)=>{const N=S,h=Q,D=ee;return d(),w(D,{ref_key:"formRef",ref:u,rules:p,"label-position":"left",model:l.detailForm,"label-width":"180px",class:"custom-form"},{default:t(()=>[e(h,{label:"建筑类型名称",required:"",prop:"buildTypeName"},{default:t(()=>[e(N,{placeholder:"请输入",modelValue:l.detailForm.buildTypeName,"onUpdate:modelValue":s[0]||(s[0]=y=>l.detailForm.buildTypeName=y)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},He=z(Ye,[["__scopeId","data-v-79d99d6e"]]),Je={class:"table-operator-btn"},Xe={__name:"build",setup(b){const c=n(""),i=n(!1),a=n([]),p=n(),u=n(),l=n(null),_=n({total:6,currentPage:1,pageSize:10,pageSizes:[10,15,20,50]}),s=()=>{l.value=null,p.value.open()},N=async()=>{const o=await u.value.validate();o&&(a.value.push(o),a.value=[...a.value],p.value.close())},h=()=>{console.log(c.value)},D=o=>{const g=a.value.findIndex(x=>x.id===o.id);a.value.splice(g,1),a.value=[...a.value]},y=(o,g)=>{console.log(o,g)},I=[{prop:"buildTypeName",label:"建筑类型名称",render:o=>e("div",{className:"text-overflow",title:o.row.buildTypeName},[e("b",null,[o.row.buildTypeName])])}];return O(async()=>{i.value=!0;const o=await new Promise(g=>{setTimeout(()=>{i.value=!1,g([{id:"1",buildTypeName:"办公建筑"},{id:"2",buildTypeName:"商场建筑"},{id:"3",buildTypeName:"宾馆饭店建筑"},{id:"4",buildTypeName:"文化教育建筑"},{id:"5",buildTypeName:"医疗卫生建筑"},{id:"6",buildTypeName:"体育建筑"}])},1e3)});a.value=o}),(o,g)=>{const x=G,m=Y,r=S,f=H,k=W("auth"),$=J;return d(),w(U,null,{default:t(()=>[C((d(),w(X,{column:I,pageInfo:_.value,datasource:a.value,onPageChange:y},{toolbar:t(()=>[e(f,{align:"middle",gutter:5},{default:t(()=>[e(m,{span:2},{default:t(()=>[C((d(),w(x,{type:"primary",onClick:s},{default:t(()=>[V("新增")]),_:1})),[[k,"platform_build_add"]])]),_:1}),e(m,{offset:18,span:4},{default:t(()=>[e(r,{clearable:"",modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=T=>c.value=T),placeholder:"建筑类型名称","suffix-icon":F(A),onKeyup:K(h,["enter"])},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1})]),operation:t(T=>[e(ae,{title:"你确定要删除该内容嘛?",icon:F(L),iconColor:"red",onConfirm:E=>D(T.row)},{default:t(()=>[C((d(),R("a",Je,[V("删除")])),[[k,"platform_build_delete"]])]),_:2},1032,["icon","onConfirm"])]),_:1},8,["pageInfo","datasource"])),[[$,i.value]]),e(Z,{title:"新增",ref_key:"detailDrawerRef",ref:p,onConfirm:N},{default:t(()=>[e(He,{ref_key:"buildDetailRef",ref:u,initData:l.value},null,8,["initData"])]),_:1},512)]),_:1})}}},Ze={__name:"energyDetail",props:{initData:{type:Object}},setup(b,{expose:c}){const i={sysClassName:""},a=b,p={sysClassName:{required:!0,message:"请输入系统分类名称",trigger:"blur"}};c({validate:()=>u.value.validate().then(()=>l.detailForm).catch(()=>!1)});const u=n(),l=M({detailForm:i});return O(()=>{if(a.initData){const _={...i,...a.initData};l.detailForm=_}}),(_,s)=>{const N=S,h=Q,D=ee;return d(),w(D,{ref_key:"formRef",ref:u,rules:p,"label-position":"left",model:l.detailForm,"label-width":"180px",class:"custom-form"},{default:t(()=>[e(h,{label:"系统分类名称",required:"",prop:"sysClassName"},{default:t(()=>[e(N,{placeholder:"请输入",modelValue:l.detailForm.sysClassName,"onUpdate:modelValue":s[0]||(s[0]=y=>l.detailForm.sysClassName=y)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},Qe=z(Ze,[["__scopeId","data-v-dcb51ed5"]]),ea={class:"table-operator-btn"},aa={__name:"energy",setup(b){const c=n(""),i=n(!1),a=n([]),p=n(),u=n(),l=n(null),_=n({total:6,currentPage:1,pageSize:10,pageSizes:[10,15,20,50]}),s=()=>{l.value=null,p.value.open()},N=async()=>{const o=await u.value.validate();o&&(a.value.push(o),a.value=[...a.value],p.value.close())},h=()=>{console.log(c.value)},D=o=>{const g=a.value.findIndex(x=>x.id===o.id);a.value.splice(g,1),a.value=[...a.value]},y=(o,g)=>{console.log(o,g)},I=[{prop:"sysClassName",label:"系统分类名称",render:o=>e("div",{className:"text-overflow",title:o.row.sysClassName},[e("b",null,[o.row.sysClassName])])}];return O(async()=>{i.value=!0;const o=await new Promise(g=>{setTimeout(()=>{i.value=!1,g([{id:"1",sysClassName:"照明插座系统"},{id:"2",sysClassName:"空调系统"},{id:"3",sysClassName:"动力系统"},{id:"4",sysClassName:"特殊系统"},{id:"5",sysClassName:"市政系统"},{id:"6",sysClassName:"其他"}])},1e3)});a.value=o}),(o,g)=>{const x=G,m=Y,r=S,f=H,k=W("auth"),$=J;return d(),w(U,null,{default:t(()=>[C((d(),w(X,{column:I,pageInfo:_.value,datasource:a.value,onPageChange:y},{toolbar:t(()=>[e(f,{align:"middle",gutter:5},{default:t(()=>[e(m,{span:2},{default:t(()=>[C((d(),w(x,{type:"primary",onClick:s},{default:t(()=>[V("新增")]),_:1})),[[k,"platform_energy_add"]])]),_:1}),e(m,{offset:18,span:4},{default:t(()=>[e(r,{clearable:"",modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=T=>c.value=T),placeholder:"系统分类名称","suffix-icon":F(A),onKeyup:K(h,["enter"])},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1})]),operation:t(T=>[e(ae,{title:"你确定要删除该内容嘛?",icon:F(L),iconColor:"red",onConfirm:E=>D(T.row)},{default:t(()=>[C((d(),R("a",ea,[V("删除")])),[[k,"platform_energy_delete"]])]),_:2},1032,["icon","onConfirm"])]),_:1},8,["pageInfo","datasource"])),[[$,i.value]]),e(Z,{title:"新增",ref_key:"detailDrawerRef",ref:p,onConfirm:N},{default:t(()=>[e(Qe,{ref_key:"energyDetailRef",ref:u,initData:l.value},null,8,["initData"])]),_:1},512)]),_:1})}}},ta="global",pa={__name:"index",setup(b){const c=[{label:"全局配置",name:"global",component:Re},{label:"项目配置",name:"project",component:qe},{label:"单位管理",name:"unit",component:Me},{label:"变量管理",name:"variable",component:Ge},{label:"建筑类型管理",name:"build",component:Xe},{label:"用能系统分类管理",name:"energy",component:aa}];return(i,a)=>(d(),w(Ne,{tabData:c,defaultTab:ta}))}};export{pa as default};
