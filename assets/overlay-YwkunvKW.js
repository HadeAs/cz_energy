import{bV as v,Q as C,m as f,bW as h,a$ as w,bX as i,w as k,bY as M,bZ as g,aF as x,b_ as E,aE as S,bA as d,b as O,e as m,j as T,J as P,b$ as r,K as y,aC as z}from"./index-fvEwmp9R.js";const W=(e,s={})=>{v(e)||C("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||f("popup"),n=h(()=>t.bm("parent","hidden"));if(!w||i(document.body,n.value))return;let l=0,a=!1,o="0";const u=()=>{setTimeout(()=>{S(document==null?void 0:document.body,n.value),a&&document&&(document.body.style.width=o)},200)};k(e,c=>{if(!c){u();return}a=!i(document.body,n.value),a&&(o=document.body.style.width),l=M(t.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,b=g(document.body,"overflowY");l>0&&(p||b==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),x(document.body,n.value)}),E(()=>u())},B=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let s=!1,t=!1;return{onClick:o=>{s&&t&&e(o),s=t=!1},onMousedown:o=>{s=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},I=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),L={click:e=>e instanceof MouseEvent},Y="overlay";var H=T({name:"ElOverlay",props:I,emits:L,setup(e,{slots:s,emit:t}){const n=f(Y),l=c=>{t("click",c)},{onClick:a,onMousedown:o,onMouseup:u}=B(e.customMaskEvent?void 0:l);return()=>e.mask?P("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:u},[y(s,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):z("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(s,"default")])}});const A=H;export{A as E,B as a,W as u};
