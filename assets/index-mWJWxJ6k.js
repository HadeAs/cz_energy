import{S as Ve,r as g,T as mr,v as Je,o as b,A as P,B as h,J as d,a0 as We,ag as br,ah as Cr,x as R,F as ae,ai as Ar,aj as Tr,G as wr,a as Ce,ak as Pr,O as Sr,E as Or,a6 as Dr,a7 as M,a8 as U,z as Ir,c as ne,a9 as xr,aa as Er,ab as Mr,ac as Rr,ad as Nr}from"./index-bE8Zn5GN.js";import{v as Fr}from"./loading-T_xWoKmE.js";import{_ as Lr}from"./ProTable-FmZOW7gK.js";import{P as Ae}from"./ProDrawer-hLtuVeAF.js";import{E as kr,a as Kr}from"./form-item-_I9Q075a.js";import{_ as X,a as S,b as Gr,i as D,c as Z,d as Hr,e as Xe,t as Ur,E as jr}from"./toString-nakvSbDu.js";import"./checkbox-F1kls9Rl.js";import{_ as Br}from"./ProPopConfirm-hoU-SV5-.js";import{M as qr}from"./MainContentContainer-Kp_pWo3U.js";import{E as zr}from"./index-sn9CNGwt.js";import{E as Vr}from"./index-h93KvNtT.js";import"./overlay-JP1cNXmo.js";const Jr={__name:"detail",props:{initData:{type:Object}},setup(e,{expose:r}){const t={roleKey:"",roleName:"",remark:""},a=e,n={roleName:{required:!0,message:"请输入角色名称",trigger:"blur"},roleKey:{required:!0,message:"请输入角色key",trigger:"blur"},remark:[{required:!0,message:"请输入备注信息",trigger:"blur"},{min:5,message:"请输入至少5个字符",trigger:"blur"}]};r({validate:()=>s.value.validate().then(()=>i.detailForm).catch(()=>!1)});const s=g(),i=mr({detailForm:t});return Je(()=>{if(a.initData){const l={...t,...a.initData};i.detailForm=l}}),(l,u)=>{const o=We,f=kr,p=Kr;return b(),P(p,{ref_key:"formRef",ref:s,rules:n,"label-position":"left",model:i.detailForm,"label-width":"180px",class:"custom-form"},{default:h(()=>[d(f,{label:"角色名称",required:"",prop:"roleName"},{default:h(()=>[d(o,{placeholder:"请输入",modelValue:i.detailForm.roleName,"onUpdate:modelValue":u[0]||(u[0]=c=>i.detailForm.roleName=c)},null,8,["modelValue"])]),_:1}),d(f,{label:"角色key",required:"",prop:"roleKey"},{default:h(()=>[d(o,{placeholder:"请输入",modelValue:i.detailForm.roleKey,"onUpdate:modelValue":u[1]||(u[1]=c=>i.detailForm.roleKey=c)},null,8,["modelValue"])]),_:1}),d(f,{label:"备注信息",required:"",prop:"remark"},{default:h(()=>[d(o,{modelValue:i.detailForm.remark,"onUpdate:modelValue":u[2]||(u[2]=c=>i.detailForm.remark=c),type:"textarea",placeholder:"请输入至少5个字符"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},Wr=Ve(Jr,[["__scopeId","data-v-5123656c"]]);function Xr(){this.__data__=[],this.size=0}var Zr=Xr;function Yr(e,r){return e===r||e!==e&&r!==r}var Ze=Yr,Qr=Ze;function et(e,r){for(var t=e.length;t--;)if(Qr(e[t][0],r))return t;return-1}var Y=et,rt=Y,tt=Array.prototype,at=tt.splice;function nt(e){var r=this.__data__,t=rt(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():at.call(r,t,1),--this.size,!0}var st=nt,it=Y;function ot(e){var r=this.__data__,t=it(r,e);return t<0?void 0:r[t][1]}var lt=ot,ut=Y;function ct(e){return ut(this.__data__,e)>-1}var ft=ct,vt=Y;function pt(e,r){var t=this.__data__,a=vt(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var _t=pt,dt=Zr,ht=st,gt=lt,yt=ft,$t=_t;function N(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}N.prototype.clear=dt;N.prototype.delete=ht;N.prototype.get=gt;N.prototype.has=yt;N.prototype.set=$t;var Q=N,mt=Q;function bt(){this.__data__=new mt,this.size=0}var Ct=bt;function At(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Tt=At;function wt(e){return this.__data__.get(e)}var Pt=wt;function St(e){return this.__data__.has(e)}var Ot=St;function Dt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var pe=Dt,It=X,xt=pe,Et="[object AsyncFunction]",Mt="[object Function]",Rt="[object GeneratorFunction]",Nt="[object Proxy]";function Ft(e){if(!xt(e))return!1;var r=It(e);return r==Mt||r==Rt||r==Et||r==Nt}var Ye=Ft,Lt=S,kt=Lt["__core-js_shared__"],Kt=kt,se=Kt,Te=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gt(e){return!!Te&&Te in e}var Ht=Gt,Ut=Function.prototype,jt=Ut.toString;function Bt(e){if(e!=null){try{return jt.call(e)}catch{}try{return e+""}catch{}}return""}var Qe=Bt,qt=Ye,zt=Ht,Vt=pe,Jt=Qe,Wt=/[\\^$.*+?()[\]{}|]/g,Xt=/^\[object .+?Constructor\]$/,Zt=Function.prototype,Yt=Object.prototype,Qt=Zt.toString,ea=Yt.hasOwnProperty,ra=RegExp("^"+Qt.call(ea).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ta(e){if(!Vt(e)||zt(e))return!1;var r=qt(e)?ra:Xt;return r.test(Jt(e))}var aa=ta;function na(e,r){return e==null?void 0:e[r]}var sa=na,ia=aa,oa=sa;function la(e,r){var t=oa(e,r);return ia(t)?t:void 0}var F=la,ua=F,ca=S,fa=ua(ca,"Map"),_e=fa,va=F,pa=va(Object,"create"),ee=pa,we=ee;function _a(){this.__data__=we?we(null):{},this.size=0}var da=_a;function ha(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ga=ha,ya=ee,$a="__lodash_hash_undefined__",ma=Object.prototype,ba=ma.hasOwnProperty;function Ca(e){var r=this.__data__;if(ya){var t=r[e];return t===$a?void 0:t}return ba.call(r,e)?r[e]:void 0}var Aa=Ca,Ta=ee,wa=Object.prototype,Pa=wa.hasOwnProperty;function Sa(e){var r=this.__data__;return Ta?r[e]!==void 0:Pa.call(r,e)}var Oa=Sa,Da=ee,Ia="__lodash_hash_undefined__";function xa(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Da&&r===void 0?Ia:r,this}var Ea=xa,Ma=da,Ra=ga,Na=Aa,Fa=Oa,La=Ea;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Ma;L.prototype.delete=Ra;L.prototype.get=Na;L.prototype.has=Fa;L.prototype.set=La;var ka=L,Pe=ka,Ka=Q,Ga=_e;function Ha(){this.size=0,this.__data__={hash:new Pe,map:new(Ga||Ka),string:new Pe}}var Ua=Ha;function ja(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Ba=ja,qa=Ba;function za(e,r){var t=e.__data__;return qa(r)?t[typeof r=="string"?"string":"hash"]:t.map}var re=za,Va=re;function Ja(e){var r=Va(this,e).delete(e);return this.size-=r?1:0,r}var Wa=Ja,Xa=re;function Za(e){return Xa(this,e).get(e)}var Ya=Za,Qa=re;function en(e){return Qa(this,e).has(e)}var rn=en,tn=re;function an(e,r){var t=tn(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var nn=an,sn=Ua,on=Wa,ln=Ya,un=rn,cn=nn;function k(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}k.prototype.clear=sn;k.prototype.delete=on;k.prototype.get=ln;k.prototype.has=un;k.prototype.set=cn;var de=k,fn=Q,vn=_e,pn=de,_n=200;function dn(e,r){var t=this.__data__;if(t instanceof fn){var a=t.__data__;if(!vn||a.length<_n-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new pn(a)}return t.set(e,r),this.size=t.size,this}var hn=dn,gn=Q,yn=Ct,$n=Tt,mn=Pt,bn=Ot,Cn=hn;function K(e){var r=this.__data__=new gn(e);this.size=r.size}K.prototype.clear=yn;K.prototype.delete=$n;K.prototype.get=mn;K.prototype.has=bn;K.prototype.set=Cn;var er=K,An="__lodash_hash_undefined__";function Tn(e){return this.__data__.set(e,An),this}var wn=Tn;function Pn(e){return this.__data__.has(e)}var Sn=Pn,On=de,Dn=wn,In=Sn;function V(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new On;++r<t;)this.add(e[r])}V.prototype.add=V.prototype.push=Dn;V.prototype.has=In;var xn=V;function En(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var Mn=En;function Rn(e,r){return e.has(r)}var Nn=Rn,Fn=xn,Ln=Mn,kn=Nn,Kn=1,Gn=2;function Hn(e,r,t,a,n,s){var i=t&Kn,l=e.length,u=r.length;if(l!=u&&!(i&&u>l))return!1;var o=s.get(e),f=s.get(r);if(o&&f)return o==r&&f==e;var p=-1,c=!0,C=t&Gn?new Fn:void 0;for(s.set(e,r),s.set(r,e);++p<l;){var y=e[p],$=r[p];if(a)var A=i?a($,y,p,r,e,s):a(y,$,p,e,r,s);if(A!==void 0){if(A)continue;c=!1;break}if(C){if(!Ln(r,function(T,w){if(!kn(C,w)&&(y===T||n(y,T,t,a,s)))return C.push(w)})){c=!1;break}}else if(!(y===$||n(y,$,t,a,s))){c=!1;break}}return s.delete(e),s.delete(r),c}var rr=Hn,Un=S,jn=Un.Uint8Array,Bn=jn;function qn(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var zn=qn;function Vn(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Jn=Vn,Se=Gr,Oe=Bn,Wn=Ze,Xn=rr,Zn=zn,Yn=Jn,Qn=1,es=2,rs="[object Boolean]",ts="[object Date]",as="[object Error]",ns="[object Map]",ss="[object Number]",is="[object RegExp]",os="[object Set]",ls="[object String]",us="[object Symbol]",cs="[object ArrayBuffer]",fs="[object DataView]",De=Se?Se.prototype:void 0,ie=De?De.valueOf:void 0;function vs(e,r,t,a,n,s,i){switch(t){case fs:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case cs:return!(e.byteLength!=r.byteLength||!s(new Oe(e),new Oe(r)));case rs:case ts:case ss:return Wn(+e,+r);case as:return e.name==r.name&&e.message==r.message;case is:case ls:return e==r+"";case ns:var l=Zn;case os:var u=a&Qn;if(l||(l=Yn),e.size!=r.size&&!u)return!1;var o=i.get(e);if(o)return o==r;a|=es,i.set(e,r);var f=Xn(l(e),l(r),a,n,s,i);return i.delete(e),f;case us:if(ie)return ie.call(e)==ie.call(r)}return!1}var ps=vs;function _s(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var ds=_s,hs=ds,gs=D;function ys(e,r,t){var a=r(e);return gs(e)?a:hs(a,t(e))}var $s=ys;function ms(e,r){for(var t=-1,a=e==null?0:e.length,n=0,s=[];++t<a;){var i=e[t];r(i,t,e)&&(s[n++]=i)}return s}var bs=ms;function Cs(){return[]}var As=Cs,Ts=bs,ws=As,Ps=Object.prototype,Ss=Ps.propertyIsEnumerable,Ie=Object.getOwnPropertySymbols,Os=Ie?function(e){return e==null?[]:(e=Object(e),Ts(Ie(e),function(r){return Ss.call(e,r)}))}:ws,Ds=Os;function Is(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var xs=Is,Es=X,Ms=Z,Rs="[object Arguments]";function Ns(e){return Ms(e)&&Es(e)==Rs}var Fs=Ns,xe=Fs,Ls=Z,tr=Object.prototype,ks=tr.hasOwnProperty,Ks=tr.propertyIsEnumerable,Gs=xe(function(){return arguments}())?xe:function(e){return Ls(e)&&ks.call(e,"callee")&&!Ks.call(e,"callee")},ar=Gs,J={exports:{}};function Hs(){return!1}var Us=Hs;J.exports;(function(e,r){var t=S,a=Us,n=r&&!r.nodeType&&r,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,l=i?t.Buffer:void 0,u=l?l.isBuffer:void 0,o=u||a;e.exports=o})(J,J.exports);var nr=J.exports,js=9007199254740991,Bs=/^(?:0|[1-9]\d*)$/;function qs(e,r){var t=typeof e;return r=r??js,!!r&&(t=="number"||t!="symbol"&&Bs.test(e))&&e>-1&&e%1==0&&e<r}var he=qs,zs=9007199254740991;function Vs(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zs}var ge=Vs,Js=X,Ws=ge,Xs=Z,Zs="[object Arguments]",Ys="[object Array]",Qs="[object Boolean]",ei="[object Date]",ri="[object Error]",ti="[object Function]",ai="[object Map]",ni="[object Number]",si="[object Object]",ii="[object RegExp]",oi="[object Set]",li="[object String]",ui="[object WeakMap]",ci="[object ArrayBuffer]",fi="[object DataView]",vi="[object Float32Array]",pi="[object Float64Array]",_i="[object Int8Array]",di="[object Int16Array]",hi="[object Int32Array]",gi="[object Uint8Array]",yi="[object Uint8ClampedArray]",$i="[object Uint16Array]",mi="[object Uint32Array]",_={};_[vi]=_[pi]=_[_i]=_[di]=_[hi]=_[gi]=_[yi]=_[$i]=_[mi]=!0;_[Zs]=_[Ys]=_[ci]=_[Qs]=_[fi]=_[ei]=_[ri]=_[ti]=_[ai]=_[ni]=_[si]=_[ii]=_[oi]=_[li]=_[ui]=!1;function bi(e){return Xs(e)&&Ws(e.length)&&!!_[Js(e)]}var Ci=bi;function Ai(e){return function(r){return e(r)}}var Ti=Ai,W={exports:{}};W.exports;(function(e,r){var t=Hr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,i=s&&t.process,l=function(){try{var u=n&&n.require&&n.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(W,W.exports);var wi=W.exports,Pi=Ci,Si=Ti,Ee=wi,Me=Ee&&Ee.isTypedArray,Oi=Me?Si(Me):Pi,sr=Oi,Di=xs,Ii=ar,xi=D,Ei=nr,Mi=he,Ri=sr,Ni=Object.prototype,Fi=Ni.hasOwnProperty;function Li(e,r){var t=xi(e),a=!t&&Ii(e),n=!t&&!a&&Ei(e),s=!t&&!a&&!n&&Ri(e),i=t||a||n||s,l=i?Di(e.length,String):[],u=l.length;for(var o in e)(r||Fi.call(e,o))&&!(i&&(o=="length"||n&&(o=="offset"||o=="parent")||s&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||Mi(o,u)))&&l.push(o);return l}var ki=Li,Ki=Object.prototype;function Gi(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Ki;return e===t}var Hi=Gi;function Ui(e,r){return function(t){return e(r(t))}}var ji=Ui,Bi=ji,qi=Bi(Object.keys,Object),zi=qi,Vi=Hi,Ji=zi,Wi=Object.prototype,Xi=Wi.hasOwnProperty;function Zi(e){if(!Vi(e))return Ji(e);var r=[];for(var t in Object(e))Xi.call(e,t)&&t!="constructor"&&r.push(t);return r}var Yi=Zi,Qi=Ye,eo=ge;function ro(e){return e!=null&&eo(e.length)&&!Qi(e)}var to=ro,ao=ki,no=Yi,so=to;function io(e){return so(e)?ao(e):no(e)}var ir=io,oo=$s,lo=Ds,uo=ir;function co(e){return oo(e,uo,lo)}var fo=co,Re=fo,vo=1,po=Object.prototype,_o=po.hasOwnProperty;function ho(e,r,t,a,n,s){var i=t&vo,l=Re(e),u=l.length,o=Re(r),f=o.length;if(u!=f&&!i)return!1;for(var p=u;p--;){var c=l[p];if(!(i?c in r:_o.call(r,c)))return!1}var C=s.get(e),y=s.get(r);if(C&&y)return C==r&&y==e;var $=!0;s.set(e,r),s.set(r,e);for(var A=i;++p<u;){c=l[p];var T=e[c],w=r[c];if(a)var B=i?a(w,T,c,r,e,s):a(T,w,c,e,r,s);if(!(B===void 0?T===w||n(T,w,t,a,s):B)){$=!1;break}A||(A=c=="constructor")}if($&&!A){var I=e.constructor,x=r.constructor;I!=x&&"constructor"in e&&"constructor"in r&&!(typeof I=="function"&&I instanceof I&&typeof x=="function"&&x instanceof x)&&($=!1)}return s.delete(e),s.delete(r),$}var go=ho,yo=F,$o=S,mo=yo($o,"DataView"),bo=mo,Co=F,Ao=S,To=Co(Ao,"Promise"),wo=To,Po=F,So=S,Oo=Po(So,"Set"),Do=Oo,Io=F,xo=S,Eo=Io(xo,"WeakMap"),Mo=Eo,le=bo,ue=_e,ce=wo,fe=Do,ve=Mo,or=X,G=Qe,Ne="[object Map]",Ro="[object Object]",Fe="[object Promise]",Le="[object Set]",ke="[object WeakMap]",Ke="[object DataView]",No=G(le),Fo=G(ue),Lo=G(ce),ko=G(fe),Ko=G(ve),O=or;(le&&O(new le(new ArrayBuffer(1)))!=Ke||ue&&O(new ue)!=Ne||ce&&O(ce.resolve())!=Fe||fe&&O(new fe)!=Le||ve&&O(new ve)!=ke)&&(O=function(e){var r=or(e),t=r==Ro?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case No:return Ke;case Fo:return Ne;case Lo:return Fe;case ko:return Le;case Ko:return ke}return r});var Go=O,oe=er,Ho=rr,Uo=ps,jo=go,Ge=Go,He=D,Ue=nr,Bo=sr,qo=1,je="[object Arguments]",Be="[object Array]",z="[object Object]",zo=Object.prototype,qe=zo.hasOwnProperty;function Vo(e,r,t,a,n,s){var i=He(e),l=He(r),u=i?Be:Ge(e),o=l?Be:Ge(r);u=u==je?z:u,o=o==je?z:o;var f=u==z,p=o==z,c=u==o;if(c&&Ue(e)){if(!Ue(r))return!1;i=!0,f=!1}if(c&&!f)return s||(s=new oe),i||Bo(e)?Ho(e,r,t,a,n,s):Uo(e,r,u,t,a,n,s);if(!(t&qo)){var C=f&&qe.call(e,"__wrapped__"),y=p&&qe.call(r,"__wrapped__");if(C||y){var $=C?e.value():e,A=y?r.value():r;return s||(s=new oe),n($,A,t,a,s)}}return c?(s||(s=new oe),jo(e,r,t,a,n,s)):!1}var Jo=Vo,Wo=Jo,ze=Z;function lr(e,r,t,a,n){return e===r?!0:e==null||r==null||!ze(e)&&!ze(r)?e!==e&&r!==r:Wo(e,r,t,a,lr,n)}var ur=lr,Xo=er,Zo=ur,Yo=1,Qo=2;function el(e,r,t,a){var n=t.length,s=n,i=!a;if(e==null)return!s;for(e=Object(e);n--;){var l=t[n];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<s;){l=t[n];var u=l[0],o=e[u],f=l[1];if(i&&l[2]){if(o===void 0&&!(u in e))return!1}else{var p=new Xo;if(a)var c=a(o,f,u,e,r,p);if(!(c===void 0?Zo(f,o,Yo|Qo,a,p):c))return!1}}return!0}var rl=el,tl=pe;function al(e){return e===e&&!tl(e)}var cr=al,nl=cr,sl=ir;function il(e){for(var r=sl(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,nl(n)]}return r}var ol=il;function ll(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var fr=ll,ul=rl,cl=ol,fl=fr;function vl(e){var r=cl(e);return r.length==1&&r[0][2]?fl(r[0][0],r[0][1]):function(t){return t===e||ul(t,e,r)}}var pl=vl,_l=D,dl=Xe,hl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gl=/^\w*$/;function yl(e,r){if(_l(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||dl(e)?!0:gl.test(e)||!hl.test(e)||r!=null&&e in Object(r)}var ye=yl,vr=de,$l="Expected a function";function $e(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError($l);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],s=t.cache;if(s.has(n))return s.get(n);var i=e.apply(this,a);return t.cache=s.set(n,i)||s,i};return t.cache=new($e.Cache||vr),t}$e.Cache=vr;var ml=$e,bl=ml,Cl=500;function Al(e){var r=bl(e,function(a){return t.size===Cl&&t.clear(),a}),t=r.cache;return r}var Tl=Al,wl=Tl,Pl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sl=/\\(\\)?/g,Ol=wl(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Pl,function(t,a,n,s){r.push(n?s.replace(Sl,"$1"):a||t)}),r}),Dl=Ol,Il=D,xl=ye,El=Dl,Ml=Ur;function Rl(e,r){return Il(e)?e:xl(e,r)?[e]:El(Ml(e))}var me=Rl,Nl=Xe,Fl=1/0;function Ll(e){if(typeof e=="string"||Nl(e))return e;var r=e+"";return r=="0"&&1/e==-Fl?"-0":r}var j=Ll,kl=me,Kl=j;function Gl(e,r){r=kl(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[Kl(r[t++])];return t&&t==a?e:void 0}var be=Gl,Hl=be;function Ul(e,r,t){var a=e==null?void 0:Hl(e,r);return a===void 0?t:a}var jl=Ul;function Bl(e,r){return e!=null&&r in Object(e)}var ql=Bl,zl=me,Vl=ar,Jl=D,Wl=he,Xl=ge,Zl=j;function Yl(e,r,t){r=zl(r,e);for(var a=-1,n=r.length,s=!1;++a<n;){var i=Zl(r[a]);if(!(s=e!=null&&t(e,i)))break;e=e[i]}return s||++a!=n?s:(n=e==null?0:e.length,!!n&&Xl(n)&&Wl(i,n)&&(Jl(e)||Vl(e)))}var Ql=Yl,eu=ql,ru=Ql;function tu(e,r){return e!=null&&ru(e,r,eu)}var au=tu,nu=ur,su=jl,iu=au,ou=ye,lu=cr,uu=fr,cu=j,fu=1,vu=2;function pu(e,r){return ou(e)&&lu(r)?uu(cu(e),r):function(t){var a=su(t,e);return a===void 0&&a===r?iu(t,e):nu(r,a,fu|vu)}}var _u=pu;function du(e){return e}var hu=du;function gu(e){return function(r){return r==null?void 0:r[e]}}var yu=gu,$u=be;function mu(e){return function(r){return $u(r,e)}}var bu=mu,Cu=yu,Au=bu,Tu=ye,wu=j;function Pu(e){return Tu(e)?Cu(wu(e)):Au(e)}var Su=Pu,Ou=pl,Du=_u,Iu=hu,xu=D,Eu=Su;function Mu(e){return typeof e=="function"?e:e==null?Iu:typeof e=="object"?xu(e)?Du(e[0],e[1]):Ou(e):Eu(e)}var Ru=Mu;function Nu(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var Fu=Nu;function Lu(e,r,t){var a=-1,n=e.length;r<0&&(r=-r>n?0:n+r),t=t>n?n:t,t<0&&(t+=n),n=r>t?0:t-r>>>0,r>>>=0;for(var s=Array(n);++a<n;)s[a]=e[a+r];return s}var ku=Lu,Ku=be,Gu=ku;function Hu(e,r){return r.length<2?e:Ku(e,Gu(r,0,-1))}var Uu=Hu,ju=me,Bu=Fu,qu=Uu,zu=j;function Vu(e,r){return r=ju(r,e),e=qu(e,r),e==null||delete e[zu(Bu(r))]}var Ju=Vu,Wu=Ju,Xu=he,Zu=Array.prototype,Yu=Zu.splice;function Qu(e,r){for(var t=e?r.length:0,a=t-1;t--;){var n=r[t];if(t==a||n!==s){var s=n;Xu(n)?Yu.call(e,n,1):Wu(e,n)}}return e}var ec=Qu,rc=Ru,tc=ec;function ac(e,r){var t=[];if(!(e&&e.length))return t;var a=-1,n=[],s=e.length;for(r=rc(r);++a<s;){var i=e[a];r(i,a,e)&&(t.push(i),n.push(a))}return tc(e,n),t}var nc=ac;const sc=br(nc),ic={class:"custom-tree-node"},oc={class:"custom-tree-node-text"},lc={__name:"distribute",props:{initData:{type:Array,default:[]}},setup(e,{expose:r}){const t=g(),n=["operation","device","statistics","backend",...e.initData],s=l=>{const u=t.value.getNode(l),o=t.value.getCheckedNodes();u.checked&&l.type==="component"&&!o.find(f=>f.key===u.parent.data.key)&&o.push(u.parent.data),!u.checked&&l.type==="page"&&sc(o,f=>!!l.children.find(p=>p.key===f.key)),Sr(()=>{t.value.setCheckedNodes(o)})};return r({getCheckResult:()=>t.value.getCheckedKeys()}),(l,u)=>{const o=Or,f=jr;return b(),P(f,{data:R(Pr),"show-checkbox":"","node-key":"key",ref_key:"treeRef",ref:t,"check-strictly":"",onCheck:s,"expand-on-click-node":!1,"default-checked-keys":e.initData,"default-expanded-keys":n},{default:h(({node:p,data:c})=>[Ce("span",ic,[c.children&&!p.expanded?(b(),P(o,{key:0,color:"#FFCC66"},{default:h(()=>[d(R(Cr))]),_:1})):ae("",!0),c.children&&p.expanded?(b(),P(o,{key:1,color:"#FFCC66"},{default:h(()=>[d(R(Ar))]),_:1})):ae("",!0),c.children?ae("",!0):(b(),P(o,{key:2,color:"#B4BCCC"},{default:h(()=>[d(R(Tr))]),_:1})),Ce("span",oc,wr(c.label),1)])]),_:1},8,["data","default-checked-keys"])}}},uc=Ve(lc,[["__scopeId","data-v-24fc5fd7"]]),cc=["onClick"],fc={class:"table-operator-btn"},Tc={__name:"index",setup(e){const r=g(""),t=g(!1),a=g([]),n=g([]),s=g(""),i=g(),l=g(),u=g(),o=g(),f=g(""),p=g(null),c=g([]),C=g({total:4,currentPage:1,pageSize:10,pageSizes:[10,15,20,50]}),y=()=>{s.value="add",f.value="新增",p.value=null,i.value.open()},$=v=>{s.value="edit",f.value="编辑",p.value=v,i.value.open()},A=()=>{const v=["project","systemlog","carbon","project_add","systemlog_login_search"];c.value=v,l.value.open()},T=()=>{const v=o.value.getCheckResult();console.log(v),l.value.close()},w=async()=>{const v=await u.value.validate();if(v){if(s.value==="add")a.value.push(v);else{const m=a.value.findIndex(E=>E.id===v.id);a.value.splice(m,1,v)}a.value=[...a.value],i.value.close()}},B=()=>{console.log(r.value)},I=v=>{const m=a.value.findIndex(E=>E.id===v.id);a.value.splice(m,1),a.value=[...a.value]},x=(v,m)=>{console.log(v,m)},pr=v=>{n.value=v},_r=()=>{zr.confirm("确认删除选中的内容？","警告",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{a.value=a.value.filter(v=>!n.value.find(m=>m.id===v.id)),Vr({type:"success",message:"删除成功"})}).catch(()=>{})},dr=[{prop:"roleName",label:"角色名称",width:120,render:v=>d("div",{className:"text-overflow",title:v.row.roleName},[d("b",null,[v.row.roleName])])},{prop:"roleKey",label:"角色key"},{prop:"createTime",label:"创建时间",width:200,sortable:!0},{prop:"updateTime",label:"更新时间",width:200,sortable:!0},{prop:"remark",label:"备注",width:200,render:v=>d("div",{className:"text-overflow",title:v.row.remark},[d("span",null,[v.row.remark])])}];return Je(async()=>{t.value=!0;const v=await new Promise(m=>{setTimeout(()=>{t.value=!1,m([{id:"1",roleName:"超级管理员",remark:"--",createTime:"2018-03-03  15:20:40",updateTime:"2018-03-05  15:20:40",roleKey:"1"},{id:"2",roleName:"企业管理员",remark:"--",createTime:"2018-03-03  15:20:40",updateTime:"2018-03-05  15:20:40",roleKey:"2"},{id:"3",roleName:"一般用户",remark:"--",createTime:"2018-03-03  15:20:40",updateTime:"2018-03-05  15:20:40",roleKey:"3"},{id:"4",roleName:"远程监管用户",remark:"--",createTime:"2018-03-03  15:20:40",updateTime:"2018-03-05  15:20:40",roleKey:"4"}])},1e3)});a.value=v}),(v,m)=>{const E=xr,te=Er,hr=We,gr=Mr,H=Dr("auth"),yr=Fr;return b(),P(qr,null,{default:h(()=>[M((b(),P(Lr,{multiple:!0,column:dr,pageInfo:C.value,datasource:a.value,onPageChange:x,onSelectionChange:pr},{toolbar:h(()=>[d(gr,{align:"middle",gutter:5},{default:h(()=>[d(te,{span:2},{default:h(()=>[M((b(),P(E,{type:"primary",onClick:y},{default:h(()=>[U("新增")]),_:1})),[[H,"auth_add"]])]),_:1}),d(te,{span:2},{default:h(()=>[M((b(),P(E,{disabled:!n.value.length,onClick:_r},{default:h(()=>[U("批量删除")]),_:1},8,["disabled"])),[[H,"auth_batch_delete"]])]),_:1}),d(te,{offset:16,span:4},{default:h(()=>[d(hr,{clearable:"",modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=q=>r.value=q),placeholder:"角色名称","suffix-icon":R(Rr),onKeyup:Ir(B,["enter"])},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1})]),operation:h(q=>[M((b(),ne("a",{class:"table-operator-btn",onClick:$r=>$(q.row)},[U("编辑")],8,cc)),[[H,"auth_edit"]]),d(Br,{title:"你确定要删除该角色嘛?",icon:R(Nr),iconColor:"red",onConfirm:$r=>I(q.row)},{default:h(()=>[M((b(),ne("a",fc,[U("删除")])),[[H,"auth_delete"]])]),_:2},1032,["icon","onConfirm"]),M((b(),ne("a",{class:"table-operator-btn",onClick:A},[U("分配")])),[[H,"auth_distribute"]])]),_:1},8,["pageInfo","datasource"])),[[yr,t.value]]),d(Ae,{title:f.value,ref_key:"detailDrawerRef",ref:i,onConfirm:w},{default:h(()=>[d(Wr,{ref_key:"roleDetailRef",ref:u,initData:p.value},null,8,["initData"])]),_:1},8,["title"]),d(Ae,{title:"分配权限",ref_key:"distributeDrawerRef",ref:l,onConfirm:T},{default:h(()=>[d(uc,{ref_key:"roleDistributeRef",ref:o,initData:c.value},null,8,["initData"])]),_:1},512)]),_:1})}}};export{Tc as default};
